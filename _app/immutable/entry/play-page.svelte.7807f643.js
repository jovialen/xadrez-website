import{S as C,i as M,s as B,k as A,q as V,l as O,m as I,r as L,h as $,n as _,K as F,b as x,G as E,H as de,u as te,J as U,I as se,x as Le,a as T,y as k,c as R,z as j,A as D,g as v,v as G,f as q,U as Rt,_ as Bt,d as y,B as N,a0 as Ct,R as ge,a1 as Mt,a2 as Ut,a3 as Ft,C as je,D as Te,E as Re,F as Be,a4 as Ce,O as Gt,a5 as qt,Q as re,M as Me,N as ie,e as K,a6 as oe,w as Ue,a7 as Fe,a8 as Ge,a9 as zt}from"../chunks/index.7bf4d985.js";import{w as z}from"../chunks/index.bbce139b.js";import{C as Yt,n as Jt,__tla as Ht}from"../chunks/chessboard.53170f6a.js";import{s as Xt,e as Kt,t as Qt,p as Wt,__tla as Zt}from"../chunks/stores.57765c75.js";import{s as ce,c as er,P as tr}from"../chunks/primary-icon.f1eff325.js";import{I as qe,B as rr,S as ze}from"../chunks/secondary-icon.1aff5611.js";let Ye,or=Promise.all([(()=>{try{return Ht}catch{}})(),(()=>{try{return Zt}catch{}})()]).then(async()=>{function Je(t){let e,r,o,a;return{c(){e=A("li"),r=V(t[1]),this.h()},l(n){e=O(n,"LI",{class:!0});var s=I(e);r=L(s,t[1]),s.forEach($),this.h()},h(){_(e,"class","tab svelte-pl3rwx"),F(e,"active",t[0])},m(n,s){x(n,e,s),E(e,r),o||(a=de(e,"click",t[2]),o=!0)},p(n,[s]){s&2&&te(r,n[1]),s&1&&F(e,"active",n[0])},i:U,o:U,d(n){n&&$(e),o=!1,a()}}}function He(t,e,r){let{active:o=!1}=e,{label:a=""}=e;function n(s){se.call(this,t,s)}return t.$$set=s=>{"active"in s&&r(0,o=s.active),"label"in s&&r(1,a=s.label)},[o,a,n]}class Xe extends C{constructor(e){super(),M(this,e,He,Je,B,{active:0,label:1})}}function $e(t,e,r){const o=t.slice();return o[3]=e[r],o[5]=r,o}function be(t){let e,r;return e=new Xe({props:{label:t[3].label,active:t[1]===t[5]}}),e.$on("click",t[2](t[5])),{c(){k(e.$$.fragment)},l(o){j(e.$$.fragment,o)},m(o,a){D(e,o,a),r=!0},p(o,a){const n={};a&1&&(n.label=o[3].label),a&2&&(n.active=o[1]===o[5]),e.$set(n)},i(o){r||(v(e.$$.fragment,o),r=!0)},o(o){y(e.$$.fragment,o),r=!1},d(o){N(e,o)}}}function Ke(t){let e,r,o,a,n,s,f=t[0],i=[];for(let m=0;m<f.length;m+=1)i[m]=be($e(t,f,m));const c=m=>y(i[m],1,1,()=>{i[m]=null}),l=[t[0][t[1]].props];var u=t[0][t[1]].content;function p(m){let h={};for(let d=0;d<l.length;d+=1)h=ge(h,l[d]);return{props:h}}return u&&(n=Le(u,p())),{c(){e=A("div"),r=A("ul");for(let m=0;m<i.length;m+=1)i[m].c();o=T(),a=A("div"),n&&k(n.$$.fragment),this.h()},l(m){e=O(m,"DIV",{class:!0});var h=I(e);r=O(h,"UL",{class:!0});var d=I(r);for(let w=0;w<i.length;w+=1)i[w].l(d);d.forEach($),o=R(h),a=O(h,"DIV",{class:!0});var g=I(a);n&&j(n.$$.fragment,g),g.forEach($),h.forEach($),this.h()},h(){_(r,"class","flex pl-0 mb-0 border-b border-gray-300"),_(a,"class","rounded-b-lg border border-gray-300 border-t-0 p-4 grow"),_(e,"class","h-full flex flex-col")},m(m,h){x(m,e,h),E(e,r);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(r,null);E(e,o),E(e,a),n&&D(n,a,null),s=!0},p(m,[h]){if(h&7){f=m[0];let g;for(g=0;g<f.length;g+=1){const w=$e(m,f,g);i[g]?(i[g].p(w,h),v(i[g],1)):(i[g]=be(w),i[g].c(),v(i[g],1),i[g].m(r,null))}for(G(),g=f.length;g<i.length;g+=1)c(g);q()}const d=h&3?Rt(l,[Bt(m[0][m[1]].props)]):{};if(h&3&&u!==(u=m[0][m[1]].content)){if(n){G();const g=n;y(g.$$.fragment,1,0,()=>{N(g,1)}),q()}u?(n=Le(u,p()),k(n.$$.fragment),v(n.$$.fragment,1),D(n,a,null)):n=null}else u&&n.$set(d)},i(m){if(!s){for(let h=0;h<f.length;h+=1)v(i[h]);n&&v(n.$$.fragment,m),s=!0}},o(m){i=i.filter(Boolean);for(let h=0;h<i.length;h+=1)y(i[h]);n&&y(n.$$.fragment,m),s=!1},d(m){m&&$(e),Ct(i,m),n&&N(n)}}}function Qe(t,e,r){let o=0;function a(s){return()=>{r(1,o=s)}}let{tabs:n=[]}=e;return t.$$set=s=>{"tabs"in s&&r(0,n=s.tabs)},[n,o,a]}class We extends C{constructor(e){super(),M(this,e,Qe,Ke,B,{tabs:0})}}function Ze(t){let e,r,o,a,n,s,f,i,c;return n=new Yt({props:{position:t[0],orientation:t[1],movable:t[2],onDrop:t[3],dropOffBoard:t[5],sparePieces:t[4],draggable:!0}}),n.$on("snapend",t[7]),n.$on("change",t[8]),i=new We({props:{tabs:t[6]}}),{c(){e=A("section"),r=A("div"),o=A("div"),a=A("div"),k(n.$$.fragment),s=T(),f=A("div"),k(i.$$.fragment),this.h()},l(l){e=O(l,"SECTION",{class:!0});var u=I(e);r=O(u,"DIV",{class:!0});var p=I(r);o=O(p,"DIV",{class:!0});var m=I(o);a=O(m,"DIV",{class:!0});var h=I(a);j(n.$$.fragment,h),h.forEach($),m.forEach($),s=R(p),f=O(p,"DIV",{class:!0});var d=I(f);j(i.$$.fragment,d),d.forEach($),p.forEach($),u.forEach($),this.h()},h(){_(a,"class","h-full aspect-square mx-auto"),_(o,"class","w-full md:w-auto md:min-w-[50%] max-h-[80vh]"),_(f,"class","w-full md:w-auto md:grow md:max-w-lg"),_(r,"class","flex flex-wrap md:flex-nowrap gap-4 justify-center"),_(e,"class","container mx-auto p-4 md:p-2")},m(l,u){x(l,e,u),E(e,r),E(r,o),E(o,a),D(n,a,null),E(r,s),E(r,f),D(i,f,null),c=!0},p(l,[u]){const p={};u&1&&(p.position=l[0]),u&2&&(p.orientation=l[1]),u&4&&(p.movable=l[2]),u&8&&(p.onDrop=l[3]),u&32&&(p.dropOffBoard=l[5]),u&16&&(p.sparePieces=l[4]),n.$set(p);const m={};u&64&&(m.tabs=l[6]),i.$set(m)},i(l){c||(v(n.$$.fragment,l),v(i.$$.fragment,l),c=!0)},o(l){y(n.$$.fragment,l),y(i.$$.fragment,l),c=!1},d(l){l&&$(e),N(n),N(i)}}}function et(t,e,r){let{position:o=z(Xt())}=e,{orientation:a="white"}=e,{movable:n=(p,m)=>!0}=e,{onDrop:s=(p,m)=>{}}=e,{sparePieces:f=!1}=e,{dropOffBoard:i="snapback"}=e,{tabs:c=[]}=e;function l(p){se.call(this,t,p)}function u(p){se.call(this,t,p)}return t.$$set=p=>{"position"in p&&r(0,o=p.position),"orientation"in p&&r(1,a=p.orientation),"movable"in p&&r(2,n=p.movable),"onDrop"in p&&r(3,s=p.onDrop),"sparePieces"in p&&r(4,f=p.sparePieces),"dropOffBoard"in p&&r(5,i=p.dropOffBoard),"tabs"in p&&r(6,c=p.tabs)},[o,a,n,s,f,i,c,l,u]}class tt extends C{constructor(e){super(),M(this,e,et,Ze,B,{position:0,orientation:1,movable:2,onDrop:3,sparePieces:4,dropOffBoard:5,tabs:6})}}function ve(t){return Object.prototype.toString.call(t)==="[object Date]"}function le(t,e){if(t===e||t!==t)return()=>t;const r=typeof t;if(r!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const o=e.map((a,n)=>le(t[n],a));return a=>o.map(n=>n(a))}if(r==="object"){if(!t||!e)throw new Error("Object cannot be null");if(ve(t)&&ve(e)){t=t.getTime(),e=e.getTime();const n=e-t;return s=>new Date(t+s*n)}const o=Object.keys(e),a={};return o.forEach(n=>{a[n]=le(t[n],e[n])}),n=>{const s={};return o.forEach(f=>{s[f]=a[f](n)}),s}}if(r==="number"){const o=e-t;return a=>t+a*o}throw new Error(`Cannot interpolate ${r} values`)}function rt(t,e={}){const r=z(t);let o,a=t;function n(s,f){if(t==null)return r.set(t=s),Promise.resolve();a=s;let i=o,c=!1,{delay:l=0,duration:u=400,easing:p=Ft,interpolate:m=le}=ge(ge({},e),f);if(u===0)return i&&(i.abort(),i=null),r.set(t=a),Promise.resolve();const h=Mt()+l;let d;return o=Ut(g=>{if(g<h)return!0;c||(d=m(t,s),typeof u=="function"&&(u=u(t,s)),c=!0),i&&(i.abort(),i=null);const w=g-h;return w>u?(r.set(t=s),!1):(r.set(t=d(p(w/u))),!0)}),o.promise}return{set:n,update:(s,f)=>n(s(a,t),f),subscribe:r.subscribe}}function ot(t){let e,r,o,a,n,s,f,i;return o=new qe({props:{icon:t[0],size:"text-xl",color:"text-white"}}),{c(){e=A("div"),r=A("div"),k(o.$$.fragment),a=T(),n=A("div"),s=A("span"),f=V(t[1]),this.h()},l(c){e=O(c,"DIV",{class:!0});var l=I(e);r=O(l,"DIV",{class:!0});var u=I(r);j(o.$$.fragment,u),u.forEach($),a=R(l),n=O(l,"DIV",{class:!0});var p=I(n);s=O(p,"SPAN",{});var m=I(s);f=L(m,t[1]),m.forEach($),p.forEach($),l.forEach($),this.h()},h(){_(r,"class","mt-auto aspect-square h-8 bg-blue-600 p-1 rounded-lg flex justify-center items-center"),_(n,"class","max-w-full p-1 px-4 border border-gray-300 rounded-lg rounded-bl-none"),_(e,"class","flex gap-2 w-full")},m(c,l){x(c,e,l),E(e,r),D(o,r,null),E(e,a),E(e,n),E(n,s),E(s,f),i=!0},p(c,[l]){const u={};l&1&&(u.icon=c[0]),o.$set(u),(!i||l&2)&&te(f,c[1])},i(c){i||(v(o.$$.fragment,c),i=!0)},o(c){y(o.$$.fragment,c),i=!1},d(c){c&&$(e),N(o)}}}function at(t,e,r){let{user_icon:o="fa-user"}=e,{message:a=""}=e;return t.$$set=n=>{"user_icon"in n&&r(0,o=n.user_icon),"message"in n&&r(1,a=n.message)},[o,a]}class nt extends C{constructor(e){super(),M(this,e,at,ot,B,{user_icon:0,message:1})}}function st(t){let e,r,o,a,n,s;o=new qe({props:{origin:t[1],icon:t[0],color:"text-inherit",size:"text-base"}});const f=t[5].default,i=je(f,t,t[7],null);return{c(){e=A("div"),r=A("div"),k(o.$$.fragment),a=T(),i&&i.c(),this.h()},l(c){e=O(c,"DIV",{class:!0});var l=I(e);r=O(l,"DIV",{class:!0});var u=I(r);j(o.$$.fragment,u),u.forEach($),a=R(l),i&&i.l(l),l.forEach($),this.h()},h(){_(r,"class","place-self-center"),_(e,"class",n="flex gap-2 "+t[3])},m(c,l){x(c,e,l),E(e,r),D(o,r,null),E(e,a),i&&i.m(e,null),s=!0},p(c,l){const u={};l&2&&(u.origin=c[1]),l&1&&(u.icon=c[0]),o.$set(u),i&&i.p&&(!s||l&128)&&Te(i,f,c,c[7],s?Be(f,c[7],l,null):Re(c[7]),null),(!s||l&8&&n!==(n="flex gap-2 "+c[3]))&&_(e,"class",n)},i(c){s||(v(o.$$.fragment,c),v(i,c),s=!0)},o(c){y(o.$$.fragment,c),y(i,c),s=!1},d(c){c&&$(e),N(o),i&&i.d(c)}}}function it(t){let e,r;return e=new rr({props:{bg_color:t[2],text_color:t[3],border:t[4],$$slots:{default:[st]},$$scope:{ctx:t}}}),e.$on("click",t[6]),{c(){k(e.$$.fragment)},l(o){j(e.$$.fragment,o)},m(o,a){D(e,o,a),r=!0},p(o,[a]){const n={};a&4&&(n.bg_color=o[2]),a&8&&(n.text_color=o[3]),a&16&&(n.border=o[4]),a&139&&(n.$$scope={dirty:a,ctx:o}),e.$set(n)},i(o){r||(v(e.$$.fragment,o),r=!0)},o(o){y(e.$$.fragment,o),r=!1},d(o){N(e,o)}}}function ct(t,e,r){let{$$slots:o={},$$scope:a}=e,{icon:n=""}=e,{origin:s="fa-solid"}=e,{bg_color:f="bg-blue-700 hover:bg-blue-800"}=e,{text_color:i="text-white"}=e,{border:c=""}=e;function l(u){se.call(this,t,u)}return t.$$set=u=>{"icon"in u&&r(0,n=u.icon),"origin"in u&&r(1,s=u.origin),"bg_color"in u&&r(2,f=u.bg_color),"text_color"in u&&r(3,i=u.text_color),"border"in u&&r(4,c=u.border),"$$scope"in u&&r(7,a=u.$$scope)},[n,s,f,i,c,o,l,a]}class lt extends C{constructor(e){super(),M(this,e,ct,it,B,{icon:0,origin:1,bg_color:2,text_color:3,border:4})}}function ft(t){let e,r,o,a,n,s,f;const i=t[6].default,c=je(i,t,t[5],null);return{c(){e=A("label"),c&&c.c(),r=T(),o=A("input"),this.h()},l(l){e=O(l,"LABEL",{for:!0,class:!0});var u=I(e);c&&c.l(u),u.forEach($),r=R(l),o=O(l,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),this.h()},h(){_(e,"for",t[4]),_(e,"class","block mb-2 text-sm font-medium text-gray-900"),_(o,"id",t[4]),_(o,"type","range"),_(o,"min",t[1]),_(o,"max",t[2]),_(o,"class","w-full h-2 bg-gray-200 rounded-lg appearance-none"),o.disabled=a=!t[3],F(o,"cursor-pointer",t[3])},m(l,u){x(l,e,u),c&&c.m(e,null),x(l,r,u),x(l,o,u),Ce(o,t[0]),n=!0,s||(f=[de(o,"change",t[7]),de(o,"input",t[7])],s=!0)},p(l,[u]){c&&c.p&&(!n||u&32)&&Te(c,i,l,l[5],n?Be(i,l[5],u,null):Re(l[5]),null),(!n||u&2)&&_(o,"min",l[1]),(!n||u&4)&&_(o,"max",l[2]),(!n||u&8&&a!==(a=!l[3]))&&(o.disabled=a),u&1&&Ce(o,l[0]),(!n||u&8)&&F(o,"cursor-pointer",l[3])},i(l){n||(v(c,l),n=!0)},o(l){y(c,l),n=!1},d(l){l&&$(e),c&&c.d(l),l&&$(r),l&&$(o),s=!1,Gt(f)}}}function ut(t,e,r){let{$$slots:o={},$$scope:a}=e,n=Jt(),{min:s=0}=e,{max:f=10}=e,{value:i=0}=e,{enabled:c=!0}=e;function l(){i=qt(this.value),r(0,i)}return t.$$set=u=>{"min"in u&&r(1,s=u.min),"max"in u&&r(2,f=u.max),"value"in u&&r(0,i=u.value),"enabled"in u&&r(3,c=u.enabled),"$$scope"in u&&r(5,a=u.$$scope)},[i,s,f,c,n,a,o,l]}class fe extends C{constructor(e){super(),M(this,e,ut,ft,B,{min:1,max:2,value:0,enabled:3})}}function ye(t){let e,r,o,a,n,s,f;return r=new nt({props:{message:t[4],user_icon:"fa-laptop"}}),{c(){e=A("div"),k(r.$$.fragment),a=T(),n=A("div"),this.h()},l(i){e=O(i,"DIV",{class:!0});var c=I(e);j(r.$$.fragment,c),c.forEach($),a=R(i),n=O(i,"DIV",{class:!0}),I(n).forEach($),this.h()},h(){_(e,"class","min-h-fit w-full"),_(n,"class","divider svelte-15v2n6r")},m(i,c){x(i,e,c),D(r,e,null),x(i,a,c),x(i,n,c),f=!0},p(i,c){const l={};c&16&&(l.message=i[4]),r.$set(l)},i(i){f||(v(r.$$.fragment,i),i&&Me(()=>{f&&(o||(o=ie(e,ce,{},!0)),o.run(1))}),i&&Me(()=>{f&&(s||(s=ie(n,ce,{},!0)),s.run(1))}),f=!0)},o(i){y(r.$$.fragment,i),i&&(o||(o=ie(e,ce,{},!1)),o.run(0)),i&&(s||(s=ie(n,ce,{},!1)),s.run(0)),f=!1},d(i){i&&$(e),N(r),i&&o&&o.end(),i&&$(a),i&&$(n),i&&s&&s.end()}}}function pt(t){let e;return{c(){e=V("-")},l(r){e=L(r,"-")},m(r,o){x(r,e,o)},d(r){r&&$(e)}}}function mt(t){let e;return{c(){e=V("+")},l(r){e=L(r,"+")},m(r,o){x(r,e,o)},d(r){r&&$(e)}}}function ht(t){let e,r,o,a=Math.abs(t[5]).toFixed(2)+"",n;function s(c,l){return c[5]>0?mt:pt}let f=s(t),i=f(t);return{c(){e=V(`Evaluation:\r
	  	`),r=A("span"),i.c(),o=T(),n=V(a),this.h()},l(c){e=L(c,`Evaluation:\r
	  	`),r=O(c,"SPAN",{class:!0});var l=I(r);i.l(l),o=R(l),n=L(l,a),l.forEach($),this.h()},h(){_(r,"class","px-2 rounded-lg svelte-15v2n6r"),F(r,"white-lead",t[5]>0),F(r,"black-lead",t[5]<=0)},m(c,l){x(c,e,l),x(c,r,l),i.m(r,null),E(r,o),E(r,n)},p(c,l){f!==(f=s(c))&&(i.d(1),i=f(c),i&&(i.c(),i.m(r,o))),l&32&&a!==(a=Math.abs(c[5]).toFixed(2)+"")&&te(n,a),l&32&&F(r,"white-lead",c[5]>0),l&32&&F(r,"black-lead",c[5]<=0)},d(c){c&&$(e),c&&$(r),i.d()}}}function _e(t){let e,r;return e=new lt({props:{icon:"fa-chess",bg_color:"bg-gray-900 hover:bg-black",text_color:"text-white",$$slots:{default:[dt]},$$scope:{ctx:t}}}),e.$on("click",t[7]),{c(){k(e.$$.fragment)},l(o){j(e.$$.fragment,o)},m(o,a){D(e,o,a),r=!0},p(o,a){const n={};a&2048&&(n.$$scope={dirty:a,ctx:o}),e.$set(n)},i(o){r||(v(e.$$.fragment,o),r=!0)},o(o){y(e.$$.fragment,o),r=!1},d(o){N(e,o)}}}function dt(t){let e;return{c(){e=V("Play as Black")},l(r){e=L(r,"Play as Black")},m(r,o){x(r,e,o)},d(r){r&&$(e)}}}function gt(t){let e;return{c(){e=V("Help me")},l(r){e=L(r,"Help me")},m(r,o){x(r,e,o)},d(r){r&&$(e)}}}function we(t){let e,r,o,a,n;const s=[bt,$t],f=[];function i(c,l){return l&1&&(e=null),e==null&&(e=c[0].game_state()==="Playing"),e?0:1}return r=i(t,-1),o=f[r]=s[r](t),{c(){o.c(),a=K()},l(c){o.l(c),a=K()},m(c,l){f[r].m(c,l),x(c,a,l),n=!0},p(c,l){let u=r;r=i(c,l),r===u?f[r].p(c,l):(G(),y(f[u],1,1,()=>{f[u]=null}),q(),o=f[r],o?o.p(c,l):(o=f[r]=s[r](c),o.c()),v(o,1),o.m(a.parentNode,a))},i(c){n||(v(o),n=!0)},o(c){y(o),n=!1},d(c){f[r].d(c),c&&$(a)}}}function $t(t){let e,r;return e=new tr({props:{icon:"fa-chess-board",$$slots:{default:[vt]},$$scope:{ctx:t}}}),e.$on("click",t[8]),{c(){k(e.$$.fragment)},l(o){j(e.$$.fragment,o)},m(o,a){D(e,o,a),r=!0},p(o,a){const n={};a&2048&&(n.$$scope={dirty:a,ctx:o}),e.$set(n)},i(o){r||(v(e.$$.fragment,o),r=!0)},o(o){y(e.$$.fragment,o),r=!1},d(o){N(e,o)}}}function bt(t){let e,r;return e=new ze({props:{icon:"fa-flag",$$slots:{default:[yt]},$$scope:{ctx:t}}}),e.$on("click",t[8]),{c(){k(e.$$.fragment)},l(o){j(e.$$.fragment,o)},m(o,a){D(e,o,a),r=!0},p(o,a){const n={};a&2048&&(n.$$scope={dirty:a,ctx:o}),e.$set(n)},i(o){r||(v(e.$$.fragment,o),r=!0)},o(o){y(e.$$.fragment,o),r=!1},d(o){N(e,o)}}}function vt(t){let e;return{c(){e=V("New Game")},l(r){e=L(r,"New Game")},m(r,o){x(r,e,o)},d(r){r&&$(e)}}}function yt(t){let e;return{c(){e=V("Resign")},l(r){e=L(r,"Resign")},m(r,o){x(r,e,o)},d(r){r&&$(e)}}}function xe(t){let e=t[0].is_startpos(),r,o,a,n=!t[0].is_startpos(),s,f,i=e&&_e(t);o=new ze({props:{icon:"fa-lightbulb",$$slots:{default:[gt]},$$scope:{ctx:t}}}),o.$on("click",t[9]);let c=n&&we(t);return{c(){i&&i.c(),r=T(),k(o.$$.fragment),a=T(),c&&c.c(),s=K()},l(l){i&&i.l(l),r=R(l),j(o.$$.fragment,l),a=R(l),c&&c.l(l),s=K()},m(l,u){i&&i.m(l,u),x(l,r,u),D(o,l,u),x(l,a,u),c&&c.m(l,u),x(l,s,u),f=!0},p(l,u){u&1&&(e=l[0].is_startpos()),e?i?(i.p(l,u),u&1&&v(i,1)):(i=_e(l),i.c(),v(i,1),i.m(r.parentNode,r)):i&&(G(),y(i,1,1,()=>{i=null}),q());const p={};u&2048&&(p.$$scope={dirty:u,ctx:l}),o.$set(p),u&1&&(n=!l[0].is_startpos()),n?c?(c.p(l,u),u&1&&v(c,1)):(c=we(l),c.c(),v(c,1),c.m(s.parentNode,s)):c&&(G(),y(c,1,1,()=>{c=null}),q())},i(l){f||(v(i),v(o.$$.fragment,l),v(c),f=!0)},o(l){y(i),y(o.$$.fragment,l),y(c),f=!1},d(l){i&&i.d(l),l&&$(r),N(o,l),l&&$(a),c&&c.d(l),l&&$(s)}}}function _t(t){let e,r,o,a,n,s,f,i,c,l=t[3],u,p=t[4]!==""&&ye(t);a=new fe({props:{min:-30,max:30,value:t[5],enabled:!1,$$slots:{default:[ht]},$$scope:{ctx:t}}});let m=xe(t);return{c(){e=A("div"),p&&p.c(),r=T(),o=A("div"),k(a.$$.fragment),n=T(),s=A("div"),f=T(),i=A("div"),c=A("div"),m.c(),this.h()},l(h){e=O(h,"DIV",{class:!0});var d=I(e);p&&p.l(d),r=R(d),o=O(d,"DIV",{class:!0});var g=I(o);j(a.$$.fragment,g),g.forEach($),n=R(d),s=O(d,"DIV",{class:!0}),I(s).forEach($),f=R(d),i=O(d,"DIV",{class:!0});var w=I(i);c=O(w,"DIV",{class:!0});var S=I(c);m.l(S),S.forEach($),w.forEach($),d.forEach($),this.h()},h(){_(o,"class","grow min-h-[10rem]"),_(s,"class","divider svelte-15v2n6r"),_(c,"class","mx-auto w-fit flex gap-2"),_(i,"class","min-h-fit"),_(e,"class","body w-full h-full flex flex-col gap-4")},m(h,d){x(h,e,d),p&&p.m(e,null),E(e,r),E(e,o),D(a,o,null),E(e,n),E(e,s),E(e,f),E(e,i),E(i,c),m.m(c,null),u=!0},p(h,[d]){h[4]!==""?p?(p.p(h,d),d&16&&v(p,1)):(p=ye(h),p.c(),v(p,1),p.m(e,r)):p&&(G(),y(p,1,1,()=>{p=null}),q());const g={};d&32&&(g.value=h[5]),d&2080&&(g.$$scope={dirty:d,ctx:h}),a.$set(g),d&8&&B(l,l=h[3])?(G(),y(m,1,1,U),q(),m=xe(h),m.c(),v(m,1),m.m(c,null)):m.p(h,d)},i(h){u||(v(p),v(a.$$.fragment,h),v(m),u=!0)},o(h){y(p),y(a.$$.fragment,h),y(m),u=!1},d(h){h&&$(e),p&&p.d(),N(a),m.d(h)}}}let wt=3e3;function xt(t,e,r){let o,a=U,n=()=>(a(),a=oe(h,P=>r(10,o=P)),h),s,f=U,i=()=>(f(),f=oe(m,P=>r(3,s=P)),m),c,l=U,u=()=>(l(),l=oe(d,P=>r(4,c=P)),d),p;t.$$.on_destroy.push(()=>a()),t.$$.on_destroy.push(()=>f()),t.$$.on_destroy.push(()=>l());let{position:m}=e;i();let{orientation:h}=e;n();let{message:d}=e;u();let g=rt(0,{duration:200,easing:er});re(t,g,P=>r(5,p=P));function w(){m.make_move("e2e4"),h.set("black"),d.set("I always like to start with e2e4")}function S(){m.reset(),d.set("Want to play again?"),h.set("white")}function X(){o[0]===m.side_to_move()&&(d.set("Sure! I'll help!"),m.search(wt).then(P=>{d.set(`I think that ${P} is a good move for you!`)}))}return t.$$set=P=>{"position"in P&&i(r(0,m=P.position)),"orientation"in P&&n(r(1,h=P.orientation)),"message"in P&&u(r(2,d=P.message))},t.$$.update=()=>{t.$$.dirty&8&&g.set(Kt(s))},[m,h,d,s,c,p,g,w,S,X]}class Et extends C{constructor(e){super(),M(this,e,xt,_t,B,{position:0,orientation:1,message:2})}}function At(t){let e,r,o=(t[5]/1e3).toFixed(2)+"",a,n;return{c(){e=V("Max search time: "),r=A("span"),a=V(o),n=V(" seconds")},l(s){e=L(s,"Max search time: "),r=O(s,"SPAN",{});var f=I(r);a=L(f,o),n=L(f," seconds"),f.forEach($)},m(s,f){x(s,e,f),x(s,r,f),E(r,a),E(r,n)},p(s,f){f&32&&o!==(o=(s[5]/1e3).toFixed(2)+"")&&te(a,o)},d(s){s&&$(e),s&&$(r)}}}function Ot(t){let e,r,o,a;return{c(){e=V("Max search depth: "),r=A("span"),o=V(t[4]),a=V(" moves")},l(n){e=L(n,"Max search depth: "),r=O(n,"SPAN",{});var s=I(r);o=L(s,t[4]),a=L(s," moves"),s.forEach($)},m(n,s){x(n,e,s),x(n,r,s),E(r,o),E(r,a)},p(n,s){s&16&&te(o,n[4])},d(n){n&&$(e),n&&$(r)}}}function It(t){let e,r,o,a,n,s;function f(u){t[6](u)}let i={min:1e3,max:1e4,$$slots:{default:[At]},$$scope:{ctx:t}};t[2]!==void 0&&(i.value=t[2]),e=new fe({props:i}),Ue.push(()=>Fe(e,"value",f));function c(u){t[7](u)}let l={min:1,max:30,$$slots:{default:[Ot]},$$scope:{ctx:t}};return t[3]!==void 0&&(l.value=t[3]),a=new fe({props:l}),Ue.push(()=>Fe(a,"value",c)),{c(){k(e.$$.fragment),o=T(),k(a.$$.fragment)},l(u){j(e.$$.fragment,u),o=R(u),j(a.$$.fragment,u)},m(u,p){D(e,u,p),x(u,o,p),D(a,u,p),s=!0},p(u,[p]){const m={};p&288&&(m.$$scope={dirty:p,ctx:u}),!r&&p&4&&(r=!0,m.value=u[2],Ge(()=>r=!1)),e.$set(m);const h={};p&272&&(h.$$scope={dirty:p,ctx:u}),!n&&p&8&&(n=!0,h.value=u[3],Ge(()=>n=!1)),a.$set(h)},i(u){s||(v(e.$$.fragment,u),v(a.$$.fragment,u),s=!0)},o(u){y(e.$$.fragment,u),y(a.$$.fragment,u),s=!1},d(u){N(e,u),u&&$(o),N(a,u)}}}function St(t,e,r){let o,a=U,n=()=>(a(),a=oe(l,d=>r(4,o=d)),l),s,f=U,i=()=>(f(),f=oe(c,d=>r(5,s=d)),c);t.$$.on_destroy.push(()=>a()),t.$$.on_destroy.push(()=>f());let{searchTime:c=z(3e3)}=e;i();let{searchDepth:l=z(20)}=e;n();let u=s,p=o;function m(d){u=d,r(2,u)}function h(d){p=d,r(3,p)}return t.$$set=d=>{"searchTime"in d&&i(r(0,c=d.searchTime)),"searchDepth"in d&&n(r(1,l=d.searchDepth))},t.$$.update=()=>{t.$$.dirty&15&&(c.set(u),l.set(p))},[c,l,u,p,o,s,m,h]}class kt extends C{constructor(e){super(),M(this,e,St,It,B,{searchTime:0,searchDepth:1})}}var ue=function(t,e){return ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},ue(t,e)},ae=function(){return ae=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},ae.apply(this,arguments)};function Ee(t,e,r){if(r||arguments.length===2)for(var o,a=0,n=e.length;a<n;a++)!o&&a in e||(o||(o=Array.prototype.slice.call(e,0,a)),o[a]=e[a]);return t.concat(o||Array.prototype.slice.call(e))}var Ae=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return function(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function a(){this.constructor=r}ue(r,o),r.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}(e,t),e}(Error),Oe={},Dt=new Set,Q={};function W(t,e){if(typeof t=="string"||typeof t=="number"&&!isNaN(t)&&Math.abs(t)!==1/0||t==null||typeof t=="boolean")return t;var r=e.indexOf(t);if(r!==-1)return"#$@__instance__"+r;e.push(t);var o=e.length-1;if(t.constructor===Array){var a=t.map(function(i){return W(i,e)});return a.unshift("#$@__reference__"+o),a}if(t.constructor===Object){var n=Object.fromEntries(Object.entries(t).map(function(i){return[i[0],W(i[1],e)]}));return n["#$@__reference__"]=o,n}Dt.add(t.constructor);var s={};s=Object.defineProperty(s,"#$@__constructor__",{value:t.constructor.name,enumerable:!0}),s=Object.defineProperty(s,"#$@__reference__",{value:o,enumerable:!0});var f=function(i,c){if(Object.keys(Q).includes(i.constructor.name))return Q[i.constructor.name].toPlain(i,function(l){return W(l,c)})}(t,e);return f!==void 0?ae(ae({},f),s):(Object.getOwnPropertyNames(t).forEach(function(i){Object.defineProperty(s,i,{value:W(t[i],e),enumerable:!0})}),s)}function Z(t,e,r){var o;if(typeof t=="string"&&t.indexOf("#$@__instance__")===0)return r[f=parseInt(t.slice(15))];if(typeof t=="string"||typeof t=="number"||t==null||typeof t=="boolean")return t;if(t.constructor===Array){if(t.length===0)return[];var a=t.shift();if(typeof a!="string"||a.substring(0,16)!=="#$@__reference__"){if(Object.keys(r).length===0)return t.unshift(a),t;throw new Ae}var n=[];r[f=a.slice(16)]=n;for(var s=0;s<t.length;s++)n[s]=Z(t[s],e,r);return n}if(t.constructor===Object){var f;if((f=(o=t["#$@__reference__"])!==null&&o!==void 0?o:null)===null){if(Object.keys(r).length===0)return t;throw new Ae}if(delete t["#$@__reference__"],!Object.keys(t).includes("#$@__constructor__")){for(var i in n={},r[f]=n,t)n[i]=Z(t[i],e,r);return n}var c=t["#$@__constructor__"];delete t["#$@__constructor__"];var l=function(p,m,h,d){if(Object.keys(Q).includes(m))return Q[m].fromPlain(p,function(g){return Z(g,h,d)})}(t,c,e,r);if(l!==void 0)return l;if(!Object.keys(e).includes(c))throw new Error("The class "+c+" is not allowed");var u={};for(var i in r[f]=u,t)u[i]=Z(t[i],e,r);return Object.setPrototypeOf(u,e[c].prototype),u}}function Nt(t){Oe[t.name]=t}(function(t,e){t("Date",r=>({time:r.getTime()}),function(r){let o=new Date;return o.setTime(r.time),o}),t("BigInt",r=>({number:r.toString()}),r=>BigInt(r.number)),t("String",r=>({text:r.toString()}),r=>new String(r.text)),t("RegExp",r=>({source:r.source,flags:r.flags}),r=>new RegExp(r.source,r.flags)),t("Number",function(r){let o={nan:!1,infinity:!1,positive:!0,number:null};return Math.abs(r)===1/0?(o.infinity=!0,o.positive=Math.abs(r)===r,o):isNaN(r)?(o.nan=!0,o):(o.number=r.valueOf(),o)},function(r){return r.nan?NaN:r.infinity?1/0*(r.positive?1:-1):new Number(r.number)}),t("Map",(r,o)=>({data:Array.from(r.entries()).map(a=>o(a))}),function(r,o){const a=new Map;return r.data.map(n=>o(n)).forEach(([n,s])=>a.set(n,s)),a}),t("Set",(r,o)=>({data:Array.from(r.values()).map(a=>o(a))}),function(r,o){const a=new Set;return r.data.map(n=>o(n)).forEach(n=>a.add(n)),a}),t("ArrayBuffer",(r,o)=>({data:o(new Uint8Array(r))}),(r,o)=>o(r.data).buffer),t("DataView",(r,o)=>({buffer:o(r.buffer),offset:r.byteOffset,length:r.byteLength}),(r,o)=>new DataView(o(r.buffer),r.offset,r.length)),[Error,EvalError,RangeError,AggregateError,ReferenceError,SyntaxError,TypeError,URIError,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array].forEach(r=>e(r))})(function(t,e,r){Q[t]={toPlain:e,fromPlain:r}},Nt);var Y,ne={};function J(t){let e,r=t[0],o=1;for(;o<t.length;){const a=t[o],n=t[o+1];if(o+=2,(a==="optionalAccess"||a==="optionalCall")&&r==null)return;a==="access"||a==="optionalAccess"?(e=r,r=n(r)):a!=="call"&&a!=="optionalCall"||(r=n((...s)=>r.call(e,...s)),e=void 0)}return r}(Y=ne).defaults={},Y.set=function(t,e,r){var o=r||{},a=Y.defaults,n=o.expires||a.expires,s=o.domain||a.domain,f=o.path!==void 0?o.path:a.path!==void 0?a.path:"/",i=o.secure!==void 0?o.secure:a.secure,c=o.httponly!==void 0?o.httponly:a.httponly,l=o.samesite!==void 0?o.samesite:a.samesite,u=n?new Date(typeof n=="number"?new Date().getTime()+864e5*n:n):0;document.cookie=t.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+e.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(u&&u.getTime()>=0?";expires="+u.toUTCString():"")+(s?";domain="+s:"")+(f?";path="+f:"")+(i?";secure":"")+(c?";httponly":"")+(l?";samesite="+l:"")},Y.get=function(t){for(var e=document.cookie.split(";");e.length;){var r=e.pop(),o=r.indexOf("=");if(o=o<0?r.length:o,decodeURIComponent(r.slice(0,o).replace(/^\s+/,""))===t)return decodeURIComponent(r.slice(o+1))}return null},Y.erase=function(t,e){Y.set(t,"",{expires:-1,domain:e&&e.domain,path:e&&e.path,secure:0,httponly:0})},Y.all=function(){for(var t={},e=document.cookie.split(";");e.length;){var r=e.pop(),o=r.indexOf("=");o=o<0?r.length:o,t[decodeURIComponent(r.slice(0,o).replace(/^\s+/,""))]=decodeURIComponent(r.slice(o+1))}return t};const Ie=[],pe=t=>{(e=>{const r=typeof process<"u"&&J([process,"access",o=>o.env,"optionalAccess",o=>o.NODE_ENV])==="production";Ie.indexOf(e)!==-1||r||(typeof window>"u"&&(e+=`
Are you running on a server? Most of storages are not available while running on a server.`),console.warn(e),Ie.push(e))})(`Unable to find the ${t}. No data will be persisted.`)};let Se=function(t){return t===void 0?"undefined":JSON.stringify(W(t,[]))},me=function(t,e){if(e===void 0&&(e=void 0),typeof t!="string")return t;if(e===void 0&&(e={}),t!=="undefined"){e=Object.fromEntries(Ee(Ee([],Object.entries(e),!0),Object.entries(Oe),!0));try{return Z(JSON.parse(t),e,{})}catch{return t}}};function ee(t,e,r){const o=e.getValue(r);return o!==null&&t.set(o),e.addListener&&e.addListener(r,a=>{t.set(a)}),t.subscribe(a=>{e.setValue(r,a)}),{...t,delete(){e.deleteValue(r)}}}function ke(){}function Pt(t=ke,e=ke){const r=[];return{callListeners(o,a){a!==void 0&&r.filter(({key:n})=>n===o).forEach(({listener:n})=>n(a))},addListener(o,a){r.push({key:o,listener:a}),r.length===1&&t()},removeListener(o,a){const n=r.indexOf({key:o,listener:a});n!==-1&&r.splice(n,1),r.length===0&&e()}}}Lt(),H(),Vt();function De(t,e=!1){const r=s=>{const f=s.key;s.storageArea===t&&a(f,me(s.newValue))},{removeListener:o,callListeners:a,addListener:n}=Pt(()=>{e&&typeof window<"u"&&J([window,"optionalAccess",s=>s.addEventListener])&&window.addEventListener("storage",r)},()=>{e&&typeof window<"u"&&J([window,"optionalAccess",s=>s.removeEventListener])&&window.removeEventListener("storage",r)});return{addListener:n,removeListener:o,getValue(s){const f=t.getItem(s);return me(f)},deleteValue(s){t.removeItem(s)},setValue(s,f){t.setItem(s,Se(f))}}}function H(t=!1){return typeof window<"u"&&J([window,"optionalAccess",e=>e.localStorage])?De(window.localStorage,t):(pe("window.localStorage"),he())}function Vt(t=!1){return typeof window<"u"&&J([window,"optionalAccess",e=>e.sessionStorage])?De(window.sessionStorage,t):(pe("window.sessionStorage"),he())}function Lt(){return typeof document>"u"||typeof J([document,"optionalAccess",t=>t.cookie])!="string"?(pe("document.cookies"),he()):{getValue(t){const e=ne.get(t);return me(e)},deleteValue(t){ne.erase(t,{samesite:"Strict"})},setValue(t,e){ne.set(t,Se(e),{samesite:"Strict"})}}}var Ne;function he(){return{getValue:()=>null,deleteValue(){},setValue(){}}}(function(t){t[t.LOCAL=0]="LOCAL",t[t.SESSION=1]="SESSION",t[t.SYNC=2]="SYNC"})(Ne||(Ne={}));var Pe,b={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(t){this.toString=function(){return"CORRUPT: "+this.message},this.message=t},invalid:function(t){this.toString=function(){return"INVALID: "+this.message},this.message=t},bug:function(t){this.toString=function(){return"BUG: "+this.message},this.message=t},notReady:function(t){this.toString=function(){return"NOT READY: "+this.message},this.message=t}}};b.cipher.aes=function(t){this._tables[0][0][0]||this._precompute();var e,r,o,a,n,s=this._tables[0][4],f=this._tables[1],i=t.length,c=1;if(i!==4&&i!==6&&i!==8)throw new b.exception.invalid("invalid aes key size");for(this._key=[a=t.slice(0),n=[]],e=i;e<4*i+28;e++)o=a[e-1],(e%i==0||i===8&&e%i==4)&&(o=s[o>>>24]<<24^s[o>>16&255]<<16^s[o>>8&255]<<8^s[255&o],e%i==0&&(o=o<<8^o>>>24^c<<24,c=c<<1^283*(c>>7))),a[e]=a[e-i]^o;for(r=0;e;r++,e--)o=a[3&r?e:e-4],n[r]=e<=4||r<4?o:f[0][s[o>>>24]]^f[1][s[o>>16&255]]^f[2][s[o>>8&255]]^f[3][s[255&o]]},b.cipher.aes.prototype={encrypt:function(t){return this._crypt(t,0)},decrypt:function(t){return this._crypt(t,1)},_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var t,e,r,o,a,n,s,f,i=this._tables[0],c=this._tables[1],l=i[4],u=c[4],p=[],m=[];for(t=0;t<256;t++)m[(p[t]=t<<1^283*(t>>7))^t]=t;for(e=r=0;!l[e];e^=o||1,r=m[r]||1)for(n=(n=r^r<<1^r<<2^r<<3^r<<4)>>8^255&n^99,l[e]=n,u[n]=e,f=16843009*p[a=p[o=p[e]]]^65537*a^257*o^16843008*e,s=257*p[n]^16843008*n,t=0;t<4;t++)i[t][e]=s=s<<24^s>>>8,c[t][n]=f=f<<24^f>>>8;for(t=0;t<5;t++)i[t]=i[t].slice(0),c[t]=c[t].slice(0)},_crypt:function(t,e){if(t.length!==4)throw new b.exception.invalid("invalid aes block size");var r,o,a,n,s=this._key[e],f=t[0]^s[0],i=t[e?3:1]^s[1],c=t[2]^s[2],l=t[e?1:3]^s[3],u=s.length/4-2,p=4,m=[0,0,0,0],h=this._tables[e],d=h[0],g=h[1],w=h[2],S=h[3],X=h[4];for(n=0;n<u;n++)r=d[f>>>24]^g[i>>16&255]^w[c>>8&255]^S[255&l]^s[p],o=d[i>>>24]^g[c>>16&255]^w[l>>8&255]^S[255&f]^s[p+1],a=d[c>>>24]^g[l>>16&255]^w[f>>8&255]^S[255&i]^s[p+2],l=d[l>>>24]^g[f>>16&255]^w[i>>8&255]^S[255&c]^s[p+3],p+=4,f=r,i=o,c=a;for(n=0;n<4;n++)m[e?3&-n:n]=X[f>>>24]<<24^X[i>>16&255]<<16^X[c>>8&255]<<8^X[255&l]^s[p++],r=f,f=i,i=c,c=l,l=r;return m}},b.bitArray={bitSlice:function(t,e,r){return t=b.bitArray._shiftRight(t.slice(e/32),32-(31&e)).slice(1),r===void 0?t:b.bitArray.clamp(t,r-e)},extract:function(t,e,r){var o=Math.floor(-e-r&31);return(-32&(e+r-1^e)?t[e/32|0]<<32-o^t[e/32+1|0]>>>o:t[e/32|0]>>>o)&(1<<r)-1},concat:function(t,e){if(t.length===0||e.length===0)return t.concat(e);var r=t[t.length-1],o=b.bitArray.getPartial(r);return o===32?t.concat(e):b.bitArray._shiftRight(e,o,0|r,t.slice(0,t.length-1))},bitLength:function(t){var e,r=t.length;return r===0?0:(e=t[r-1],32*(r-1)+b.bitArray.getPartial(e))},clamp:function(t,e){if(32*t.length<e)return t;var r=(t=t.slice(0,Math.ceil(e/32))).length;return e&=31,r>0&&e&&(t[r-1]=b.bitArray.partial(e,t[r-1]&2147483648>>e-1,1)),t},partial:function(t,e,r){return t===32?e:(r?0|e:e<<32-t)+1099511627776*t},getPartial:function(t){return Math.round(t/1099511627776)||32},equal:function(t,e){if(b.bitArray.bitLength(t)!==b.bitArray.bitLength(e))return!1;var r,o=0;for(r=0;r<t.length;r++)o|=t[r]^e[r];return o===0},_shiftRight:function(t,e,r,o){var a,n,s;for(o===void 0&&(o=[]);e>=32;e-=32)o.push(r),r=0;if(e===0)return o.concat(t);for(a=0;a<t.length;a++)o.push(r|t[a]>>>e),r=t[a]<<32-e;return n=t.length?t[t.length-1]:0,s=b.bitArray.getPartial(n),o.push(b.bitArray.partial(e+s&31,e+s>32?r:o.pop(),1)),o},_xor4:function(t,e){return[t[0]^e[0],t[1]^e[1],t[2]^e[2],t[3]^e[3]]},byteswapM:function(t){var e,r;for(e=0;e<t.length;++e)r=t[e],t[e]=r>>>24|r>>>8&65280|(65280&r)<<8|r<<24;return t}},b.codec.utf8String={fromBits:function(t){var e,r,o="",a=b.bitArray.bitLength(t);for(e=0;e<a/8;e++)!(3&e)&&(r=t[e/4]),o+=String.fromCharCode(r>>>8>>>8>>>8),r<<=8;return decodeURIComponent(escape(o))},toBits:function(t){t=unescape(encodeURIComponent(t));var e,r=[],o=0;for(e=0;e<t.length;e++)o=o<<8|t.charCodeAt(e),(3&e)==3&&(r.push(o),o=0);return 3&e&&r.push(b.bitArray.partial(8*(3&e),o)),r}},b.codec.base64={_chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(t,e,r){var o,a="",n=0,s=b.codec.base64._chars,f=0,i=b.bitArray.bitLength(t);for(r&&(s=s.substr(0,62)+"-_"),o=0;6*a.length<i;)a+=s.charAt((f^t[o]>>>n)>>>26),n<6?(f=t[o]<<6-n,n+=26,o++):(f<<=6,n-=6);for(;3&a.length&&!e;)a+="=";return a},toBits:function(t,e){t=t.replace(/\s|=/g,"");var r,o,a=[],n=0,s=b.codec.base64._chars,f=0;for(e&&(s=s.substr(0,62)+"-_"),r=0;r<t.length;r++){if((o=s.indexOf(t.charAt(r)))<0)throw new b.exception.invalid("this isn't base64!");n>26?(n-=26,a.push(f^o>>>n),f=o<<32-n):f^=o<<32-(n+=6)}return 56&n&&a.push(b.bitArray.partial(56&n,f,1)),a}},b.codec.base64url={fromBits:function(t){return b.codec.base64.fromBits(t,1,1)},toBits:function(t){return b.codec.base64.toBits(t,1)}},b.mode.gcm={name:"gcm",encrypt:function(t,e,r,o,a){var n,s=e.slice(0),f=b.bitArray;return a=a||128,o=o||[],n=b.mode.gcm._ctrMode(!0,t,s,o,r,a),f.concat(n.data,n.tag)},decrypt:function(t,e,r,o,a){var n,s,f=e.slice(0),i=b.bitArray,c=i.bitLength(f);if(o=o||[],(a=a||128)<=c?(s=i.bitSlice(f,c-a),f=i.bitSlice(f,0,c-a)):(s=f,f=[]),n=b.mode.gcm._ctrMode(!1,t,f,o,r,a),!i.equal(n.tag,s))throw new b.exception.corrupt("gcm: tag doesn't match");return n.data},_galoisMultiply:function(t,e){var r,o,a,n,s,f=b.bitArray._xor4;for(a=[0,0,0,0],n=e.slice(0),r=0;r<128;r++){for(t[Math.floor(r/32)]&1<<31-r%32&&(a=f(a,n)),s=(1&n[3])!=0,o=3;o>0;o--)n[o]=n[o]>>>1|(1&n[o-1])<<31;n[0]=n[0]>>>1,s&&(n[0]=n[0]^225<<24)}return a},_ghash:function(t,e,r){var o,a,n=r.length;for(o=e.slice(0),a=0;a<n;a+=4)o[0]^=4294967295&r[a],o[1]^=4294967295&r[a+1],o[2]^=4294967295&r[a+2],o[3]^=4294967295&r[a+3],o=b.mode.gcm._galoisMultiply(o,t);return o},_ctrMode:function(t,e,r,o,a,n){var s,f,i,c,l,u,p,m,h,d,g,w,S=b.bitArray;for(h=r.length,d=S.bitLength(r),g=S.bitLength(o),w=S.bitLength(a),s=e.encrypt([0,0,0,0]),w===96?(f=a.slice(0),f=S.concat(f,[1])):(f=b.mode.gcm._ghash(s,[0,0,0,0],a),f=b.mode.gcm._ghash(s,f,[0,0,Math.floor(w/4294967296),4294967295&w])),i=b.mode.gcm._ghash(s,[0,0,0,0],o),u=f.slice(0),p=i.slice(0),t||(p=b.mode.gcm._ghash(s,i,r)),l=0;l<h;l+=4)u[3]++,c=e.encrypt(u),r[l]^=c[0],r[l+1]^=c[1],r[l+2]^=c[2],r[l+3]^=c[3];return r=S.clamp(r,d),t&&(p=b.mode.gcm._ghash(s,i,r)),m=[Math.floor(g/4294967296),4294967295&g,Math.floor(d/4294967296),4294967295&d],p=b.mode.gcm._ghash(s,p,m),c=e.encrypt(f),p[0]^=c[0],p[1]^=c[1],p[2]^=c[2],p[3]^=c[3],{tag:S.bitSlice(p,0,n),data:r}}},function(t){t[t.EXCEPTION=0]="EXCEPTION",t[t.NO_ENCRYPTION=1]="NO_ENCRYPTION",t[t.NO_STORAGE=2]="NO_STORAGE"}(Pe||(Pe={}));function Ve(t){let e,r;return e=new tt({props:{position:t[1],orientation:t[0],movable:t[6],onDrop:t[7],tabs:t[5]}}),e.$on("change",t[8]),{c(){k(e.$$.fragment)},l(o){j(e.$$.fragment,o)},m(o,a){D(e,o,a),r=!0},p(o,a){const n={};a&1&&(n.orientation=o[0]),e.$set(n)},i(o){r||(v(e.$$.fragment,o),r=!0)},o(o){y(e.$$.fragment,o),r=!1},d(o){N(e,o)}}}function jt(t){let e=t[0],r,o,a=Ve(t);return{c(){a.c(),r=K()},l(n){a.l(n),r=K()},m(n,s){a.m(n,s),x(n,r,s),o=!0},p(n,[s]){s&1&&B(e,e=n[0])?(G(),y(a,1,1,U),q(),a=Ve(n),a.c(),v(a,1),a.m(r.parentNode,r)):a.p(n,s)},i(n){o||(v(a),o=!0)},o(n){y(a),o=!1},d(n){n&&$(r),a.d(n)}}}function Tt(t,e,r){let o,a,n,s;Qt.page("Play");let f=ee(Wt(),H(),"savegame_fen");re(t,f,g=>r(9,o=g));let i=ee(z("white"),H(),"savegame_orientation");re(t,i,g=>r(0,s=g));let c=ee(z(""),H(),"savegame_message"),l=ee(z(3e3),H(),"savegame_searchTime");re(t,l,g=>r(11,n=g));let u=ee(z(20),H(),"savegame_searchDepth");re(t,u,g=>r(10,a=g));let p=[{label:"Game",content:Et,props:{message:c,position:f,orientation:i}},{label:"Settings",content:kt,props:{searchTime:l,searchDepth:u}}];function m(g,w){if(f.game_state()!=="Playing"||w!==zt(i))return!1;let S=f.side_to_move();if(S==="w"&&g.search(/^b/)!==-1||S==="b"&&g.search(/^w/)!==-1)return!1}function h(g,w){if(g!==w){if(!f.make_move(g,w))return"snapback";c.set(g+w)}}function d(){if(f.game_state()!=="Playing"){c.set(f.game_state()),f.game_state()==="Checkmate"&&s[0]!==f.side_to_move()&&c.set("Congratulations! The digit you are searching for is '4'");return}s[0]!==f.side_to_move()&&(c.set("Thinking of a move now"),f.search(n,a).then(g=>{f.make_move(g),c.set(`I think ${g} is the best move here!`)}))}return t.$$.update=()=>{t.$$.dirty&512&&console.log(o)},[s,f,i,l,u,p,m,h,d,o]}Ye=class extends C{constructor(e){super(),M(this,e,Tt,jt,B,{})}}});export{or as __tla,Ye as default};
