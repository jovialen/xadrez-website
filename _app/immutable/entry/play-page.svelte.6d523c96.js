import{S as A,i as z,s as S,k as b,y as I,a as D,q as G,l as x,m as w,z as E,h as g,c as V,r as Q,n as y,b as k,G as v,A as P,u as ve,g as d,d as h,B as N,C as be,D as xe,E as we,F as ye,I as ke,v as B,f as C,J as H,M as X,N as j,e as F,a2 as T,Q as Y,a3 as Ie}from"../chunks/index.70a37df6.js";import{w as Z}from"../chunks/index.cb5b246f.js";import{C as De,__tla as Ee}from"../chunks/chessboard-section.91e6ad70.js";import{s as J}from"../chunks/index.c6b29a24.js";import{I as ee,B as Ve,S as te}from"../chunks/secondary-icon.80b7f843.js";import{t as Pe,p as Ne,__tla as Se}from"../chunks/stores.9af6be9d.js";let se,Ae=Promise.all([(()=>{try{return Ee}catch{}})(),(()=>{try{return Se}catch{}})()]).then(async()=>{function ne(l){let e,s,t,a,n,$,m,o;return t=new ee({props:{icon:l[0],size:"text-xl",color:"text-white"}}),{c(){e=b("div"),s=b("div"),I(t.$$.fragment),a=D(),n=b("div"),$=b("span"),m=G(l[1]),this.h()},l(r){e=x(r,"DIV",{class:!0});var c=w(e);s=x(c,"DIV",{class:!0});var i=w(s);E(t.$$.fragment,i),i.forEach(g),a=V(c),n=x(c,"DIV",{class:!0});var u=w(n);$=x(u,"SPAN",{});var f=w($);m=Q(f,l[1]),f.forEach(g),u.forEach(g),c.forEach(g),this.h()},h(){y(s,"class","mt-auto aspect-square h-8 bg-blue-600 p-1 rounded-lg flex justify-center items-center"),y(n,"class","max-w-full p-1 px-4 border border-gray-300 rounded-lg rounded-bl-none"),y(e,"class","flex gap-2 w-full")},m(r,c){k(r,e,c),v(e,s),P(t,s,null),v(e,a),v(e,n),v(n,$),v($,m),o=!0},p(r,[c]){const i={};c&1&&(i.icon=r[0]),t.$set(i),(!o||c&2)&&ve(m,r[1])},i(r){o||(d(t.$$.fragment,r),o=!0)},o(r){h(t.$$.fragment,r),o=!1},d(r){r&&g(e),N(t)}}}function oe(l,e,s){let{user_icon:t="fa-user"}=e,{message:a=""}=e;return l.$$set=n=>{"user_icon"in n&&s(0,t=n.user_icon),"message"in n&&s(1,a=n.message)},[t,a]}class re extends A{constructor(e){super(),z(this,e,oe,ne,S,{user_icon:0,message:1})}}function ae(l){let e,s,t,a,n,$;t=new ee({props:{origin:l[1],icon:l[0],color:"text-inherit",size:"text-base"}});const m=l[5].default,o=be(m,l,l[7],null);return{c(){e=b("div"),s=b("div"),I(t.$$.fragment),a=D(),o&&o.c(),this.h()},l(r){e=x(r,"DIV",{class:!0});var c=w(e);s=x(c,"DIV",{class:!0});var i=w(s);E(t.$$.fragment,i),i.forEach(g),a=V(c),o&&o.l(c),c.forEach(g),this.h()},h(){y(s,"class","place-self-center"),y(e,"class",n="flex gap-2 "+l[3])},m(r,c){k(r,e,c),v(e,s),P(t,s,null),v(e,a),o&&o.m(e,null),$=!0},p(r,c){const i={};c&2&&(i.origin=r[1]),c&1&&(i.icon=r[0]),t.$set(i),o&&o.p&&(!$||c&128)&&xe(o,m,r,r[7],$?ye(m,r[7],c,null):we(r[7]),null),(!$||c&8&&n!==(n="flex gap-2 "+r[3]))&&y(e,"class",n)},i(r){$||(d(t.$$.fragment,r),d(o,r),$=!0)},o(r){h(t.$$.fragment,r),h(o,r),$=!1},d(r){r&&g(e),N(t),o&&o.d(r)}}}function ce(l){let e,s;return e=new Ve({props:{bg_color:l[2],text_color:l[3],border:l[4],$$slots:{default:[ae]},$$scope:{ctx:l}}}),e.$on("click",l[6]),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,a){P(e,t,a),s=!0},p(t,[a]){const n={};a&4&&(n.bg_color=t[2]),a&8&&(n.text_color=t[3]),a&16&&(n.border=t[4]),a&139&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){s||(d(e.$$.fragment,t),s=!0)},o(t){h(e.$$.fragment,t),s=!1},d(t){N(e,t)}}}function le(l,e,s){let{$$slots:t={},$$scope:a}=e,{icon:n=""}=e,{origin:$="fa-solid"}=e,{bg_color:m="bg-blue-700 hover:bg-blue-800"}=e,{text_color:o="text-white"}=e,{border:r=""}=e;function c(i){ke.call(this,l,i)}return l.$$set=i=>{"icon"in i&&s(0,n=i.icon),"origin"in i&&s(1,$=i.origin),"bg_color"in i&&s(2,m=i.bg_color),"text_color"in i&&s(3,o=i.text_color),"border"in i&&s(4,r=i.border),"$$scope"in i&&s(7,a=i.$$scope)},[n,$,m,o,r,t,c,a]}class ie extends A{constructor(e){super(),z(this,e,le,ce,S,{icon:0,origin:1,bg_color:2,text_color:3,border:4})}}function W(l){let e,s,t,a,n,$,m;return s=new re({props:{message:l[3],user_icon:"fa-laptop"}}),{c(){e=b("div"),I(s.$$.fragment),a=D(),n=b("div"),this.h()},l(o){e=x(o,"DIV",{class:!0});var r=w(e);E(s.$$.fragment,r),r.forEach(g),a=V(o),n=x(o,"DIV",{class:!0}),w(n).forEach(g),this.h()},h(){y(e,"class","min-h-fit w-full"),y(n,"class","divider svelte-1vyfi6w")},m(o,r){k(o,e,r),P(s,e,null),k(o,a,r),k(o,n,r),m=!0},p(o,r){const c={};r&8&&(c.message=o[3]),s.$set(c)},i(o){m||(d(s.$$.fragment,o),o&&X(()=>{m&&(t||(t=j(e,J,{},!0)),t.run(1))}),o&&X(()=>{m&&($||($=j(n,J,{},!0)),$.run(1))}),m=!0)},o(o){h(s.$$.fragment,o),o&&(t||(t=j(e,J,{},!1)),t.run(0)),o&&($||($=j(n,J,{},!1)),$.run(0)),m=!1},d(o){o&&g(e),N(s),o&&t&&t.end(),o&&g(a),o&&g(n),o&&$&&$.end()}}}function K(l){let e,s;return e=new ie({props:{icon:"fa-chess",bg_color:"bg-gray-900 hover:bg-black",text_color:"text-white",$$slots:{default:[$e]},$$scope:{ctx:l}}}),e.$on("click",l[5]),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,a){P(e,t,a),s=!0},p(t,a){const n={};a&512&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){s||(d(e.$$.fragment,t),s=!0)},o(t){h(e.$$.fragment,t),s=!1},d(t){N(e,t)}}}function $e(l){let e;return{c(){e=G("Play as Black")},l(s){e=Q(s,"Play as Black")},m(s,t){k(s,e,t)},d(s){s&&g(e)}}}function ue(l){let e;return{c(){e=G("Help me")},l(s){e=Q(s,"Help me")},m(s,t){k(s,e,t)},d(s){s&&g(e)}}}function L(l){let e,s;return e=new te({props:{icon:"fa-flag",$$slots:{default:[me]},$$scope:{ctx:l}}}),e.$on("click",l[6]),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,a){P(e,t,a),s=!0},p(t,a){const n={};a&512&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){s||(d(e.$$.fragment,t),s=!0)},o(t){h(e.$$.fragment,t),s=!1},d(t){N(e,t)}}}function me(l){let e;return{c(){e=G("Resign")},l(s){e=Q(s,"Resign")},m(s,t){k(s,e,t)},d(s){s&&g(e)}}}function O(l){let e=l[0].is_startpos(),s,t,a,n=!l[0].is_startpos(),$,m,o=e&&K(l);t=new te({props:{icon:"fa-lightbulb",$$slots:{default:[ue]},$$scope:{ctx:l}}}),t.$on("click",l[7]);let r=n&&L(l);return{c(){o&&o.c(),s=D(),I(t.$$.fragment),a=D(),r&&r.c(),$=F()},l(c){o&&o.l(c),s=V(c),E(t.$$.fragment,c),a=V(c),r&&r.l(c),$=F()},m(c,i){o&&o.m(c,i),k(c,s,i),P(t,c,i),k(c,a,i),r&&r.m(c,i),k(c,$,i),m=!0},p(c,i){i&1&&(e=c[0].is_startpos()),e?o?(o.p(c,i),i&1&&d(o,1)):(o=K(c),o.c(),d(o,1),o.m(s.parentNode,s)):o&&(B(),h(o,1,1,()=>{o=null}),C());const u={};i&512&&(u.$$scope={dirty:i,ctx:c}),t.$set(u),i&1&&(n=!c[0].is_startpos()),n?r?(r.p(c,i),i&1&&d(r,1)):(r=L(c),r.c(),d(r,1),r.m($.parentNode,$)):r&&(B(),h(r,1,1,()=>{r=null}),C())},i(c){m||(d(o),d(t.$$.fragment,c),d(r),m=!0)},o(c){h(o),h(t.$$.fragment,c),h(r),m=!1},d(c){o&&o.d(c),c&&g(s),N(t,c),c&&g(a),r&&r.d(c),c&&g($)}}}function fe(l){let e,s,t,a,n,$,m,o,r=l[4],c,i=l[3]!==""&&W(l),u=O(l);return{c(){e=b("div"),i&&i.c(),s=D(),t=b("div"),a=D(),n=b("div"),$=D(),m=b("div"),o=b("div"),u.c(),this.h()},l(f){e=x(f,"DIV",{class:!0});var p=w(e);i&&i.l(p),s=V(p),t=x(p,"DIV",{class:!0});var M=w(t);M.forEach(g),a=V(p),n=x(p,"DIV",{class:!0}),w(n).forEach(g),$=V(p),m=x(p,"DIV",{class:!0});var R=w(m);o=x(R,"DIV",{class:!0});var q=w(o);u.l(q),q.forEach(g),R.forEach(g),p.forEach(g),this.h()},h(){y(t,"class","grow min-h-[10rem]"),y(n,"class","divider svelte-1vyfi6w"),y(o,"class","mx-auto w-fit flex gap-2"),y(m,"class","min-h-fit"),y(e,"class","body w-full h-full flex flex-col gap-4")},m(f,p){k(f,e,p),i&&i.m(e,null),v(e,s),v(e,t),v(e,a),v(e,n),v(e,$),v(e,m),v(m,o),u.m(o,null),c=!0},p(f,[p]){f[3]!==""?i?(i.p(f,p),p&8&&d(i,1)):(i=W(f),i.c(),d(i,1),i.m(e,s)):i&&(B(),h(i,1,1,()=>{i=null}),C()),p&16&&S(r,r=f[4])?(B(),h(u,1,1,H),C(),u=O(f),u.c(),d(u,1),u.m(o,null)):u.p(f,p)},i(f){c||(d(i),d(u),c=!0)},o(f){h(i),h(u),c=!1},d(f){f&&g(e),i&&i.d(),u.d(f)}}}function pe(l,e,s){let t,a=H,n=()=>(a(),a=T(f,_=>s(8,t=_)),f),$,m=H,o=()=>(m(),m=T(p,_=>s(3,$=_)),p),r,c=H,i=()=>(c(),c=T(u,_=>s(4,r=_)),u);l.$$.on_destroy.push(()=>a()),l.$$.on_destroy.push(()=>m()),l.$$.on_destroy.push(()=>c());let{position:u}=e;i();let{orientation:f}=e;n();let{message:p}=e;o();function M(){u.make_move("e2e4"),f.set("black"),p.set("e2e4")}function R(){u.reset(),p.set("Want to play again?"),f.set("white")}function q(){t[0]===u.side_to_move()&&(p.set("Sure! I'll help!"),u.search(3e3).then(_=>{u.make_move(_),p.set(`I think that ${_} is a good move for you!`)}))}return l.$$set=_=>{"position"in _&&i(s(0,u=_.position)),"orientation"in _&&n(s(1,f=_.orientation)),"message"in _&&o(s(2,p=_.message))},[u,f,p,$,r,M,R,q]}class ge extends A{constructor(e){super(),z(this,e,pe,fe,S,{position:0,orientation:1,message:2})}}class de extends A{constructor(e){super(),z(this,e,null,null,S,{})}}function U(l){let e,s;return e=new De({props:{position:l[1],orientation:l[0],movable:l[4],onDrop:l[5],tabs:l[3]}}),e.$on("change",l[6]),{c(){I(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,a){P(e,t,a),s=!0},p(t,a){const n={};a&1&&(n.orientation=t[0]),e.$set(n)},i(t){s||(d(e.$$.fragment,t),s=!0)},o(t){h(e.$$.fragment,t),s=!1},d(t){N(e,t)}}}function he(l){let e=l[0],s,t,a=U(l);return{c(){a.c(),s=F()},l(n){a.l(n),s=F()},m(n,$){a.m(n,$),k(n,s,$),t=!0},p(n,[$]){$&1&&S(e,e=n[0])?(B(),h(a,1,1,H),C(),a=U(n),a.c(),d(a,1),a.m(s.parentNode,s)):a.p(n,$)},i(n){t||(d(a),t=!0)},o(n){h(a),t=!1},d(n){n&&g(s),a.d(n)}}}function _e(l,e,s){let t,a;Pe.page("Play");let n=Ne();Y(l,n,u=>s(7,t=u));let $=Z("white");Y(l,$,u=>s(0,a=u));let m=Z(""),o=[{label:"Game",content:ge,props:{message:m,position:n,orientation:$}},{label:"Settings",content:de}];function r(u,f){if(n.game_state()!=="Playing"||f!==Ie($))return!1;let p=n.side_to_move();if(p==="w"&&u.search(/^b/)!==-1||p==="b"&&u.search(/^w/)!==-1)return!1}function c(u,f){if(u!==f){if(!n.make_move(u,f))return"snapback";m.set(u+f)}}function i(){a[0]!==n.side_to_move()&&(m.set("Thinking of a move now"),n.search(3e3).then(u=>{n.make_move(u),m.set(`I think ${u} is the best move here!`)}))}return l.$$.update=()=>{l.$$.dirty&128&&console.log(t)},[a,n,$,o,r,c,i,t]}se=class extends A{constructor(e){super(),z(this,e,_e,he,S,{})}}});export{Ae as __tla,se as default};
