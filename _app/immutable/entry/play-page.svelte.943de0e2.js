import{S as R,i as O,s as z,k as y,y as k,a as A,q as V,l as D,m as I,z as P,h as p,c as G,r as N,n as E,b as _,G as w,A as S,u as K,g as h,d as g,B as T,C as Te,D as Me,E as Ae,F as Ge,I as ze,v as F,f as q,J as B,M as ee,N as J,e as C,a2 as j,w as te,a3 as se,a4 as re,Q,a5 as Be}from"../chunks/index.84207d2e.js";import{w as H}from"../chunks/index.e14a328a.js";import{S as ae,C as Fe,__tla as qe}from"../chunks/slider.a8aeaa2f.js";import{s as W,P as Ce}from"../chunks/primary-icon.bba4a54b.js";import{I as ne,B as He,S as ce}from"../chunks/secondary-icon.3998a34b.js";import{t as Re,p as Oe,__tla as je}from"../chunks/stores.c0e4b7dc.js";let oe,Je=Promise.all([(()=>{try{return qe}catch{}})(),(()=>{try{return je}catch{}})()]).then(async()=>{function ie(o){let e,s,t,a,n,$,u,i;return t=new ne({props:{icon:o[0],size:"text-xl",color:"text-white"}}),{c(){e=y("div"),s=y("div"),k(t.$$.fragment),a=A(),n=y("div"),$=y("span"),u=V(o[1]),this.h()},l(c){e=D(c,"DIV",{class:!0});var l=I(e);s=D(l,"DIV",{class:!0});var r=I(s);P(t.$$.fragment,r),r.forEach(p),a=G(l),n=D(l,"DIV",{class:!0});var m=I(n);$=D(m,"SPAN",{});var f=I($);u=N(f,o[1]),f.forEach(p),m.forEach(p),l.forEach(p),this.h()},h(){E(s,"class","mt-auto aspect-square h-8 bg-blue-600 p-1 rounded-lg flex justify-center items-center"),E(n,"class","max-w-full p-1 px-4 border border-gray-300 rounded-lg rounded-bl-none"),E(e,"class","flex gap-2 w-full")},m(c,l){_(c,e,l),w(e,s),S(t,s,null),w(e,a),w(e,n),w(n,$),w($,u),i=!0},p(c,[l]){const r={};l&1&&(r.icon=c[0]),t.$set(r),(!i||l&2)&&K(u,c[1])},i(c){i||(h(t.$$.fragment,c),i=!0)},o(c){g(t.$$.fragment,c),i=!1},d(c){c&&p(e),T(t)}}}function le(o,e,s){let{user_icon:t="fa-user"}=e,{message:a=""}=e;return o.$$set=n=>{"user_icon"in n&&s(0,t=n.user_icon),"message"in n&&s(1,a=n.message)},[t,a]}class $e extends R{constructor(e){super(),O(this,e,le,ie,z,{user_icon:0,message:1})}}function ue(o){let e,s,t,a,n,$;t=new ne({props:{origin:o[1],icon:o[0],color:"text-inherit",size:"text-base"}});const u=o[5].default,i=Te(u,o,o[7],null);return{c(){e=y("div"),s=y("div"),k(t.$$.fragment),a=A(),i&&i.c(),this.h()},l(c){e=D(c,"DIV",{class:!0});var l=I(e);s=D(l,"DIV",{class:!0});var r=I(s);P(t.$$.fragment,r),r.forEach(p),a=G(l),i&&i.l(l),l.forEach(p),this.h()},h(){E(s,"class","place-self-center"),E(e,"class",n="flex gap-2 "+o[3])},m(c,l){_(c,e,l),w(e,s),S(t,s,null),w(e,a),i&&i.m(e,null),$=!0},p(c,l){const r={};l&2&&(r.origin=c[1]),l&1&&(r.icon=c[0]),t.$set(r),i&&i.p&&(!$||l&128)&&Me(i,u,c,c[7],$?Ge(u,c[7],l,null):Ae(c[7]),null),(!$||l&8&&n!==(n="flex gap-2 "+c[3]))&&E(e,"class",n)},i(c){$||(h(t.$$.fragment,c),h(i,c),$=!0)},o(c){g(t.$$.fragment,c),g(i,c),$=!1},d(c){c&&p(e),T(t),i&&i.d(c)}}}function me(o){let e,s;return e=new He({props:{bg_color:o[2],text_color:o[3],border:o[4],$$slots:{default:[ue]},$$scope:{ctx:o}}}),e.$on("click",o[6]),{c(){k(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){S(e,t,a),s=!0},p(t,[a]){const n={};a&4&&(n.bg_color=t[2]),a&8&&(n.text_color=t[3]),a&16&&(n.border=t[4]),a&139&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){T(e,t)}}}function pe(o,e,s){let{$$slots:t={},$$scope:a}=e,{icon:n=""}=e,{origin:$="fa-solid"}=e,{bg_color:u="bg-blue-700 hover:bg-blue-800"}=e,{text_color:i="text-white"}=e,{border:c=""}=e;function l(r){ze.call(this,o,r)}return o.$$set=r=>{"icon"in r&&s(0,n=r.icon),"origin"in r&&s(1,$=r.origin),"bg_color"in r&&s(2,u=r.bg_color),"text_color"in r&&s(3,i=r.text_color),"border"in r&&s(4,c=r.border),"$$scope"in r&&s(7,a=r.$$scope)},[n,$,u,i,c,t,l,a]}class fe extends R{constructor(e){super(),O(this,e,pe,me,z,{icon:0,origin:1,bg_color:2,text_color:3,border:4})}}function L(o){let e,s,t,a,n,$,u;return s=new $e({props:{message:o[3],user_icon:"fa-laptop"}}),{c(){e=y("div"),k(s.$$.fragment),a=A(),n=y("div"),this.h()},l(i){e=D(i,"DIV",{class:!0});var c=I(e);P(s.$$.fragment,c),c.forEach(p),a=G(i),n=D(i,"DIV",{class:!0}),I(n).forEach(p),this.h()},h(){E(e,"class","min-h-fit w-full"),E(n,"class","divider svelte-1vyfi6w")},m(i,c){_(i,e,c),S(s,e,null),_(i,a,c),_(i,n,c),u=!0},p(i,c){const l={};c&8&&(l.message=i[3]),s.$set(l)},i(i){u||(h(s.$$.fragment,i),i&&ee(()=>{u&&(t||(t=J(e,W,{},!0)),t.run(1))}),i&&ee(()=>{u&&($||($=J(n,W,{},!0)),$.run(1))}),u=!0)},o(i){g(s.$$.fragment,i),i&&(t||(t=J(e,W,{},!1)),t.run(0)),i&&($||($=J(n,W,{},!1)),$.run(0)),u=!1},d(i){i&&p(e),T(s),i&&t&&t.end(),i&&p(a),i&&p(n),i&&$&&$.end()}}}function U(o){let e,s;return e=new fe({props:{icon:"fa-chess",bg_color:"bg-gray-900 hover:bg-black",text_color:"text-white",$$slots:{default:[de]},$$scope:{ctx:o}}}),e.$on("click",o[5]),{c(){k(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){S(e,t,a),s=!0},p(t,a){const n={};a&512&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){T(e,t)}}}function de(o){let e;return{c(){e=V("Play as Black")},l(s){e=N(s,"Play as Black")},m(s,t){_(s,e,t)},d(s){s&&p(e)}}}function he(o){let e;return{c(){e=V("Help me")},l(s){e=N(s,"Help me")},m(s,t){_(s,e,t)},d(s){s&&p(e)}}}function X(o){let e,s,t,a,n;const $=[ve,ge],u=[];function i(c,l){return l&1&&(e=null),e==null&&(e=c[0].game_state()==="Playing"),e?0:1}return s=i(o,-1),t=u[s]=$[s](o),{c(){t.c(),a=C()},l(c){t.l(c),a=C()},m(c,l){u[s].m(c,l),_(c,a,l),n=!0},p(c,l){let r=s;s=i(c,l),s===r?u[s].p(c,l):(F(),g(u[r],1,1,()=>{u[r]=null}),q(),t=u[s],t?t.p(c,l):(t=u[s]=$[s](c),t.c()),h(t,1),t.m(a.parentNode,a))},i(c){n||(h(t),n=!0)},o(c){g(t),n=!1},d(c){u[s].d(c),c&&p(a)}}}function ge(o){let e,s;return e=new Ce({props:{icon:"fa-chess-board",$$slots:{default:[_e]},$$scope:{ctx:o}}}),e.$on("click",o[6]),{c(){k(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){S(e,t,a),s=!0},p(t,a){const n={};a&512&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){T(e,t)}}}function ve(o){let e,s;return e=new ce({props:{icon:"fa-flag",$$slots:{default:[xe]},$$scope:{ctx:o}}}),e.$on("click",o[6]),{c(){k(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){S(e,t,a),s=!0},p(t,a){const n={};a&512&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){T(e,t)}}}function _e(o){let e;return{c(){e=V("New Game")},l(s){e=N(s,"New Game")},m(s,t){_(s,e,t)},d(s){s&&p(e)}}}function xe(o){let e;return{c(){e=V("Resign")},l(s){e=N(s,"Resign")},m(s,t){_(s,e,t)},d(s){s&&p(e)}}}function Y(o){let e=o[0].is_startpos(),s,t,a,n=!o[0].is_startpos(),$,u,i=e&&U(o);t=new ce({props:{icon:"fa-lightbulb",$$slots:{default:[he]},$$scope:{ctx:o}}}),t.$on("click",o[7]);let c=n&&X(o);return{c(){i&&i.c(),s=A(),k(t.$$.fragment),a=A(),c&&c.c(),$=C()},l(l){i&&i.l(l),s=G(l),P(t.$$.fragment,l),a=G(l),c&&c.l(l),$=C()},m(l,r){i&&i.m(l,r),_(l,s,r),S(t,l,r),_(l,a,r),c&&c.m(l,r),_(l,$,r),u=!0},p(l,r){r&1&&(e=l[0].is_startpos()),e?i?(i.p(l,r),r&1&&h(i,1)):(i=U(l),i.c(),h(i,1),i.m(s.parentNode,s)):i&&(F(),g(i,1,1,()=>{i=null}),q());const m={};r&512&&(m.$$scope={dirty:r,ctx:l}),t.$set(m),r&1&&(n=!l[0].is_startpos()),n?c?(c.p(l,r),r&1&&h(c,1)):(c=X(l),c.c(),h(c,1),c.m($.parentNode,$)):c&&(F(),g(c,1,1,()=>{c=null}),q())},i(l){u||(h(i),h(t.$$.fragment,l),h(c),u=!0)},o(l){g(i),g(t.$$.fragment,l),g(c),u=!1},d(l){i&&i.d(l),l&&p(s),T(t,l),l&&p(a),c&&c.d(l),l&&p($)}}}function be(o){let e,s,t,a,n,$,u,i,c=o[4],l,r=o[3]!==""&&L(o),m=Y(o);return{c(){e=y("div"),r&&r.c(),s=A(),t=y("div"),a=A(),n=y("div"),$=A(),u=y("div"),i=y("div"),m.c(),this.h()},l(f){e=D(f,"DIV",{class:!0});var d=I(e);r&&r.l(d),s=G(d),t=D(d,"DIV",{class:!0});var x=I(t);x.forEach(p),a=G(d),n=D(d,"DIV",{class:!0}),I(n).forEach(p),$=G(d),u=D(d,"DIV",{class:!0});var v=I(u);i=D(v,"DIV",{class:!0});var M=I(i);m.l(M),M.forEach(p),v.forEach(p),d.forEach(p),this.h()},h(){E(t,"class","grow min-h-[10rem]"),E(n,"class","divider svelte-1vyfi6w"),E(i,"class","mx-auto w-fit flex gap-2"),E(u,"class","min-h-fit"),E(e,"class","body w-full h-full flex flex-col gap-4")},m(f,d){_(f,e,d),r&&r.m(e,null),w(e,s),w(e,t),w(e,a),w(e,n),w(e,$),w(e,u),w(u,i),m.m(i,null),l=!0},p(f,[d]){f[3]!==""?r?(r.p(f,d),d&8&&h(r,1)):(r=L(f),r.c(),h(r,1),r.m(e,s)):r&&(F(),g(r,1,1,()=>{r=null}),q()),d&16&&z(c,c=f[4])?(F(),g(m,1,1,B),q(),m=Y(f),m.c(),h(m,1),m.m(i,null)):m.p(f,d)},i(f){l||(h(r),h(m),l=!0)},o(f){g(r),g(m),l=!1},d(f){f&&p(e),r&&r.d(),m.d(f)}}}let we=3e3;function ye(o,e,s){let t,a=B,n=()=>(a(),a=j(f,b=>s(8,t=b)),f),$,u=B,i=()=>(u(),u=j(d,b=>s(3,$=b)),d),c,l=B,r=()=>(l(),l=j(m,b=>s(4,c=b)),m);o.$$.on_destroy.push(()=>a()),o.$$.on_destroy.push(()=>u()),o.$$.on_destroy.push(()=>l());let{position:m}=e;r();let{orientation:f}=e;n();let{message:d}=e;i();function x(){m.make_move("e2e4"),f.set("black"),d.set("I always like to start with e2e4")}function v(){m.reset(),d.set("Want to play again?"),f.set("white")}function M(){t[0]===m.side_to_move()&&(d.set("Sure! I'll help!"),m.search(we).then(b=>{m.make_move(b),d.set(`I think that ${b} is a good move for you!`)}))}return o.$$set=b=>{"position"in b&&r(s(0,m=b.position)),"orientation"in b&&n(s(1,f=b.orientation)),"message"in b&&i(s(2,d=b.message))},[m,f,d,$,c,x,v,M]}class De extends R{constructor(e){super(),O(this,e,ye,be,z,{position:0,orientation:1,message:2})}}function Ie(o){let e,s,t=(o[5]/1e3).toFixed(2)+"",a,n;return{c(){e=V("Max search time: "),s=y("span"),a=V(t),n=V(" seconds")},l($){e=N($,"Max search time: "),s=D($,"SPAN",{});var u=I(s);a=N(u,t),n=N(u," seconds"),u.forEach(p)},m($,u){_($,e,u),_($,s,u),w(s,a),w(s,n)},p($,u){u&32&&t!==(t=($[5]/1e3).toFixed(2)+"")&&K(a,t)},d($){$&&p(e),$&&p(s)}}}function Ee(o){let e,s,t,a;return{c(){e=V("Max search depth: "),s=y("span"),t=V(o[4]),a=V(" moves")},l(n){e=N(n,"Max search depth: "),s=D(n,"SPAN",{});var $=I(s);t=N($,o[4]),a=N($," moves"),$.forEach(p)},m(n,$){_(n,e,$),_(n,s,$),w(s,t),w(s,a)},p(n,$){$&16&&K(t,n[4])},d(n){n&&p(e),n&&p(s)}}}function ke(o){let e,s,t,a,n,$;function u(r){o[6](r)}let i={min:1e3,max:1e4,$$slots:{default:[Ie]},$$scope:{ctx:o}};o[2]!==void 0&&(i.value=o[2]),e=new ae({props:i}),te.push(()=>se(e,"value",u));function c(r){o[7](r)}let l={min:1,max:30,$$slots:{default:[Ee]},$$scope:{ctx:o}};return o[3]!==void 0&&(l.value=o[3]),a=new ae({props:l}),te.push(()=>se(a,"value",c)),{c(){k(e.$$.fragment),t=A(),k(a.$$.fragment)},l(r){P(e.$$.fragment,r),t=G(r),P(a.$$.fragment,r)},m(r,m){S(e,r,m),_(r,t,m),S(a,r,m),$=!0},p(r,[m]){const f={};m&288&&(f.$$scope={dirty:m,ctx:r}),!s&&m&4&&(s=!0,f.value=r[2],re(()=>s=!1)),e.$set(f);const d={};m&272&&(d.$$scope={dirty:m,ctx:r}),!n&&m&8&&(n=!0,d.value=r[3],re(()=>n=!1)),a.$set(d)},i(r){$||(h(e.$$.fragment,r),h(a.$$.fragment,r),$=!0)},o(r){g(e.$$.fragment,r),g(a.$$.fragment,r),$=!1},d(r){T(e,r),r&&p(t),T(a,r)}}}function Ve(o,e,s){let t,a=B,n=()=>(a(),a=j(l,x=>s(4,t=x)),l),$,u=B,i=()=>(u(),u=j(c,x=>s(5,$=x)),c);o.$$.on_destroy.push(()=>a()),o.$$.on_destroy.push(()=>u());let{searchTime:c=H(3e3)}=e;i();let{searchDepth:l=H(20)}=e;n();let r=$,m=t;function f(x){r=x,s(2,r)}function d(x){m=x,s(3,m)}return o.$$set=x=>{"searchTime"in x&&i(s(0,c=x.searchTime)),"searchDepth"in x&&n(s(1,l=x.searchDepth))},o.$$.update=()=>{o.$$.dirty&15&&(c.set(r),l.set(m))},[c,l,r,m,t,$,f,d]}class Pe extends R{constructor(e){super(),O(this,e,Ve,ke,z,{searchTime:0,searchDepth:1})}}function Z(o){let e,s;return e=new Fe({props:{position:o[1],orientation:o[0],movable:o[6],onDrop:o[7],tabs:o[5]}}),e.$on("change",o[8]),{c(){k(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){S(e,t,a),s=!0},p(t,a){const n={};a&1&&(n.orientation=t[0]),e.$set(n)},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){T(e,t)}}}function Ne(o){let e=o[0],s,t,a=Z(o);return{c(){a.c(),s=C()},l(n){a.l(n),s=C()},m(n,$){a.m(n,$),_(n,s,$),t=!0},p(n,[$]){$&1&&z(e,e=n[0])?(F(),g(a,1,1,B),q(),a=Z(n),a.c(),h(a,1),a.m(s.parentNode,s)):a.p(n,$)},i(n){t||(h(a),t=!0)},o(n){g(a),t=!1},d(n){n&&p(s),a.d(n)}}}function Se(o,e,s){let t,a,n,$;Re.page("Play");let u=Oe();Q(o,u,v=>s(9,t=v));let i=H("white");Q(o,i,v=>s(0,$=v));let c=H(""),l=H(3e3);Q(o,l,v=>s(11,n=v));let r=H(20);Q(o,r,v=>s(10,a=v));let m=[{label:"Game",content:De,props:{message:c,position:u,orientation:i}},{label:"Settings",content:Pe,props:{searchTime:l,searchDepth:r}}];function f(v,M){if(u.game_state()!=="Playing"||M!==Be(i))return!1;let b=u.side_to_move();if(b==="w"&&v.search(/^b/)!==-1||b==="b"&&v.search(/^w/)!==-1)return!1}function d(v,M){if(v!==M){if(!u.make_move(v,M))return"snapback";c.set(v+M)}}function x(){if($[0]!==u.side_to_move()){if(u.game_state()!=="Playing"){c.set(u.game_state());return}c.set("Thinking of a move now"),u.search(n,a).then(v=>{u.make_move(v),c.set(`I think ${v} is the best move here!`)})}}return o.$$.update=()=>{o.$$.dirty&512&&console.log(t)},[$,u,i,l,r,m,f,d,x,t]}oe=class extends R{constructor(e){super(),O(this,e,Se,Ne,z,{})}}});export{Je as __tla,oe as default};
